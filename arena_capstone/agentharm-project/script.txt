
set-up the environment
--
conda evn list
conda activate my_project_env
conda install deepl


pip install inspect-ai
pip install git+https://github.com/UKGovernmentBEIS/inspect_evals
pip install deepl
pip install huggingface_hub

eval_transl_for_refusal_using_llmjudge_WSP.py

  # Run with default system prompt
  python eval_transl_for_refusal_using_llmjudge_WSP.py

  # Run with Chain of Thought prompt
  python eval_transl_for_refusal_using_llmjudge_WSP.py --prompt-type system_prompt_Chain_of_Thought

  # Run with ReAct prompt
  python eval_transl_for_refusal_using_llmjudge_WSP.py --prompt-type system_prompt_ReAct

  # Run with Refusal-focused prompt
  python eval_transl_for_refusal_using_llmjudge_WSP.py --prompt-type system_prompt_Refusal

  python eval_transl_for_refusal_using_llmjudge_WSP.py --prompt-type system_prompt_JailBreak

--
command line to run eval on validation dataset with multilingual prompts and system-prompts
--

need to navigate to src directory!

cd ~/arena_capstone/arena_capstone/inspect_evals_vMR/src/

inspect eval inspect_evals/agentharm/agentharm.py@agentharm \
  --model openai/gpt-4o-2024-08-06 \
  -T split=val -T language=zh \
  -T prompt_technique=standard \
  -T system_prompt_template=default \
  -T user_prompt_template=empty \
  --limit 32

inspect eval inspect_evals/agentharm/agentharm.py@agentharm \
  --model openai/gpt-4o-2024-08-06 \
  -T split=val -T language=de \
  -T prompt_technique=cot \
  --limit 1

Glossary for calls

  system_promot_template
  -T system_prompt_template=default

  prompt_technique
  -T prompt_technique=standard
  -T prompt_technique=cot
  -T prompt_technique=react
  -T prompt_technique=refusal

  user_prompt_technique
  no flag = no jailbreak # plain prompt
  -T user_prompt_template=empty # plain prompt
  -T user_prompt_template=jailbreak # inserts jailbreak text

  tool_choice # ignore for now
  -T tool_choice=none



analysing results
--
inspect view
inspect list
inspect info
inspect info <log-file-path>
python analyze_results.py & edit the .eval file name in the script


 I if inspect framework's view server is stuck here the troubleshooting steps:

try new port inspect view --port 7576